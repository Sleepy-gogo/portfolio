---
import type { Project } from '@/lib/project-data';
import { Card } from '../ui/card';
import { ArrowRight } from 'lucide-react';
import { Badge } from '../ui/badge';
import { Button } from '../ui/button';
import { cn } from '@/lib/utils';
import { Image } from 'astro:assets';
import { CardFooter } from '../ui/card';
import { CardContent } from '../ui/card';

interface Props {
  project: Project;
  side?: 'left' | 'right';
}

const { project, side } = Astro.props;
---

<Card
  className={cn("pb-3 gap-2 hover:scale-101 hover:shadow-md shadow-primary transition-all", project.wide ? "col-span-2" : "")}
>
  <CardContent>
    <div
      class={cn(
        'w-full h-full flex items-center gap-4 xl:flex-row',
        side === 'right' ? 'flex-row-reverse' : ''
      )}
    >
      <div class="flex flex-col gap-2 h-full w-full">
        <h3 class="serif text-3xl font-black tracking-tighter inline-flex gap-2 items-center">
          {project.title}
          <Badge className="mt-1">{project.type}</Badge>
        </h3>
        <p class="text-pretty w-">{project.description}</p>
        <div class="flex gap-2 gap-y-1.5 flex-wrap mt-auto">
          {
            project.tags.map((tag) => (
              <Badge key={`${project.title}-${tag}`} variant="secondary">
                {tag}
              </Badge>
            ))
          }
        </div>
      </div>
      <Image
        width={300}
        height={200}
        src={project.image}
        alt={project.title}
        class="rounded-md aspect-[4/3] object-cover w-full h-full max-w-60 justify-self-end"
      />
    </div>
  </CardContent>
  <CardFooter className="w-full">
    <Button
      variant="link"
      className="ml-auto text-secondary-foreground transition group"
    >
      <span class="group-hover:pr-1 transition-all">View More</span>
      <ArrowRight className="size-5" />
    </Button>
  </CardFooter>
</Card>
